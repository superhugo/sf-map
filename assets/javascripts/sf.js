window.onload = function () {
  var sanFranciscoNeighborhoods = {
    balboaTerrace: {
      name: "Balboa\nTerrace",
      nameX: 228,
      nameY: 462,
      path: "M190.74,419.843h15.371v-14.562l9.304-10.112v-4.046h18.607l-4.247,10.896l4.247,10.946l-11.327,2.831l0.81,6.067l-8.898,8.899L232,448.966l31.955-8.898l1.618,8.898h3.235v34.786l-10.922-5.662h-13.348l-31.955-11.729l-7.687-9.305l-1.617-6.47l-8.091-5.26h-6.124L190.74,419.843z",
      slug: "#balboa-terrace"
    },
    bayviewHuntersPoint: {
      name: "Bayview\nHunters Point",
      nameX: 500,
      nameY: 425,
      path: "M587.148,347.034l-37.619,2.427l-23.459,2.023l-6.877-4.854l-2.021,4.449l9.707,3.641l46.922-2.022l-0.404,2.831l19.416-0.403l3.641,8.089l7.684-0.404l20.227,29.934h-25.08l0.406,7.281l27.1,1.213l-28.314,8.09l-4.449-4.449l0.404,6.472l-4.854,2.022v4.449l3.641,2.021l-0.809,9.709h6.471l0.404-3.236l8.494-2.831l8.9,9.304l7.686,2.021l4.449-4.447l5.258,0.404l4.451,6.067l4.854-2.024l5.662,2.834l-3.641,4.045l6.473,4.449l4.854-2.832l12.943,9.708l-4.854,15.371l-15.371,1.618l-1.213,4.854l16.584-1.617v4.853h-16.18l-12.135-9.303l-2.023,1.619l20.631,19.011l-2.428,3.64l-10.111-7.685l-2.428,4.045l18.203,12.135l-3.641,5.663l-9.709-6.877l-4.045,4.45l19.416,14.764l-2.426,2.831l-13.754-10.718l-3.236,4.044l14.158,10.518l-2.428,3.437l-12.943-10.111h-10.922l-8.494-6.27l-7.686-2.022l-2.832-5.258l-14.562-0.404l-12.539-27.508l-15.775,12.54l-21.033-15.37l-2.023,2.83l17.395,12.54l-2.023,7.685l29.123,21.237l-16.988,27.305l11.326,10.112l6.068-2.831l6.471,4.854l-11.324,9.708l-6.877-7.687H562.07l-6.473-3.641l-11.326-0.809l-4.449,2.427l-3.234,2.022l-5.664-5.663l-2.832,0.404l-7.887,5.259h-11.123l-4.449-22.652l-12.944-24.27v-13.753l-31.146-80.496l-7.687-27.909l14.562-27.103l6.877-22.604l2.831-6.923l110.429-2.833L587.148,347.034z",
      slug: "#bayview-hunters-point"
    },
    bernalHeights: {
      name: "Bernal\nHeights",
      nameX: 403,
      nameY: 390,
      path: "M467.418,364.831l-14.562,27.103l7.687,27.909l-38.024,14.966h-76.045l38.427-29.932l3.641-15.775l-3.641-41.663l89.395-5.212L467.418,364.831z",
      slug: "#bernal-heights"
    },
    castro: {
      name: "Castro",
      nameX: 331,
      nameY: 322,
      path: "M379.323,271.791l7.818,101.333l-47.549,3.844l-10.518-10.922l-0.81-18.606h-23.057l2.831-14.967l3.641-8.495l9.708-16.989l-11.726-5.258v-5.663l-4.854-5.662h-6.877v-13.349L379.323,271.791z",
      slug: "#castro"
    },
    chinatown: {
      name: "中\n国\n城",
      nameX: 452,
      nameY: 102,
      path: "M470.653,121.324l-20.645,3.552l-5.646-43.192l21.843-2.918L470.653,121.324z",
      slug: "#chinatown"
    },
    civicCenter: {
      name: "Civic\nCenter",
      nameX: 410,
      nameY: 150,
      path: "M395.417,134.268l75.236-12.944l2.858,14.992l-66.229,69.952l-1.752-14.158L395.417,134.268z",
      slug: "#civic-center"
    },
    crockerAmazon: {
      name: "Crocker Amazon",
      nameX: 268,
      nameY: 548,
      path: "M244.539,561.014l48.539-62.698l23.866,19.82l44.9,22.651l39.641,20.227H244.539L244.539,561.014z",
      slug: "#crocker-amazon"
    },
    diamondHeights: {
      name: "Diamond\n\xa0\xa0\xa0\xa0Heights",
      nameX: 281,
      nameY: 375,
      path: "M329.079,366.045l10.518,10.922l-0.809,11.551l-6.068,7.865h-5.258l-6.067-4.046v14.967l5.258,1.618v8.494l-5.258,2.427h-4.45l-3.236-3.235L304,417.821l1.214-5.26l4.854-3.234v-12.541l-8.898-8.269l-19.012-10.338l-9.304-12.135l19.417-8.091v-4.449l6.876-1.618l6.067-4.448h23.057L329.079,366.045z",
      slug: "#diamond-heights"
    },
    excelsior: {
      name: "Excelsior",
      nameX: 325,
      nameY: 485,
      path: "M320.989,454.225l25.483-19.416h24.674l-12.539,19.416h30.338l7.28,20.63v12.135l5.259,11.326l-11.729,3.64l-7.281-2.021l-20.629,40.854l-44.9-22.651l-23.866-19.82L320.989,454.225z",
      slug: "#excelsior"
    },
    financialDistrict: {
      name: "Financial\nDist.",
      nameX: 469,
      nameY: 92,
      path: "M500.183,76.829l5.661-3.641l1.619,1.618l-4.854,3.958l2.83,2.918l8.092-5.258l4.854,9.304l-5.729,6.877v2.365l-39.145,41.346l-2.858-14.991l-4.448-42.56l30.337-5.578L500.183,76.829z",
      slug: "#financial-district"
    },
    forestHill: {
      name: "Forest\nHill",
      nameX: 204,
      nameY: 370,
      path: "M190.74,419.843v-62.697l6.472-9.707v-6.472h12.541v-20.225h10.921l21.438,26.697l0.404,8.089h14.968l11.325,10.518l-22.652,20.63h-9.708l-2.426,4.448h-18.607v4.046l-9.304,10.112v14.562H190.74z",
      slug: "#forest-hill"
    },
    glenPark: {
      name: "Glen\nPark",
      nameX: 346,
      nameY: 400,
      path: "M339.596,376.967l47.55-3.844l1.396,15.979l-3.641,15.775l-28.968,22.564l-29.28-10.025v-8.494l-5.258-1.618v-14.967l1.618,0.405l4.449,3.641h5.258l6.068-7.865L339.596,376.967z",
      slug: "#glen-park"
    },
    goldenGatePark: {
      name: "Golden Gate Park",
      nameX: 90,
      nameY: 238,
      path: "M19.638,228.515l194.969-11.731l43.494-7.929l7.473,44.334L21.66,266.537L19.638,228.515z",
      slug: "#golden-gate-park"
    },
    haightAshbury: {
      name: "Haight\nAshbury",
      nameX: 269,
      nameY: 238,
      path: "M316.54,219.212l14.965-1.213l2.428,19.697h-8.494l-2.428,6.594h-4.854l-6.472,9.304l-8.495,5.352v7.592l-10.112,10.519v6.47l-3.64,6.068l-16.585,2.832l-12.066-67.63l54.538-9.891L316.54,219.212z",
      slug: "#haight-ashbury"
    },
    hayesValley: {
      name: "Hayes\nValley",
      nameX: 347,
      nameY: 223,
      path: "M331.507,211.931l45.303-6.876v-8.495l28.721-4.45l1.752,14.158l-30.473,31.428h-42.876L331.507,211.931z",
      slug: "#hayes-valley"
    },
    ingleside: {
      name: "Ingleside",
      nameX: 202,
      nameY: 489,
      path: "M268.809,483.753l-2.427,16.989l-78.068,1.618l-1.213-10.111l1.965-46.923h6.124l8.091,5.26l1.617,6.47l7.685,9.305l31.957,11.73h13.348L268.809,483.753z",
      slug: "#ingleside"
    },
    innerSunset: {
      name: "Inner\nSunset",
      nameX: 228,
      nameY: 276,
      path: "M272.854,292.426l-10.922,7.685l2.023,7.685l-6.068,5.664v4.854l-3.236,2.428v11.729l-8.089,2.833l-5.259-4.451l-11.209,1.619l-9.42-11.729v-43.281l-58.45,3.641l-1.838-22.156l105.188-5.757L272.854,292.426z",
      slug: "#inner-sunset"
    },
    lakeshore: {
      name: "Lakeshore",
      nameX: 88,
      nameY: 485,
      path: "M190.74,405.281l-3.64,86.968l-12.136,3.641v4.449l15.775,30.338v30.337H56.852l-12.135-59.461l-7.281-82.518h25.483l18.203,6.473h25.888l-1.044-23.485L190.74,405.281z",
      slug: "#lakeshore"
    },
    marina: {
      name: "Marina",
      nameX: 318,
      nameY: 62,
      path: "M387.146,81.684l-96.808,14.49l-4.539-31.481l6.472-1.618l-3.236-24.675l8.898-5.258l14.158-5.056l5.258-3.032l2.023,3.032l-6.473,4.249l-8.09,0.404l-11.729,5.258l2.021,2.831l12.136-4.854h10.111l6.472-4.45l12.382,0.81v3.64l6.338,0.81l1.91,4.044h4.045V24.243l12.943-0.404v3.438h7.955l7.416-11.934h6.877v4.047h-4.363l-2.514,11.731l10.336,4.45v3.641h-7.818L387.146,81.684z",
      slug: "#marina"
    },
    mission: {
      name: "Mission",
      nameX: 400,
      nameY: 292,
      path: "M376.81,237.696l11.731-11.107l32.47,7.489l30.227,3.618l9.708,4.574l5.663,11.324v17.395l-5.663,8.898v9.304l13.35,15.37l2.831,30.743l-2.831,6.923l-89.395,5.212L376.81,237.696",
      slug: "#mission"
    },
    nobHill: {
      name: "Nob Hill",
      nameX: 399,
      nameY: 105,
      path: "M450.009,124.876l-54.592,9.392l-3.235-14.562l-4.046-29.933l56.227-8.089L450.009,124.876z",
      slug: "#nob-hill"
    },
    northBeach: {
      name: "North\nBeach",
      nameX: 442,
      nameY: 49,
      path: "M496.542,73.188l-42.482,7.2l-49.743-46.031l-2.427-11.731l5.393,0.404l-7.416-7.686V11.3l7.416,1.618l11.791,8.898h4.254V18.58l11.137,0.404l4.234,4.45l3.641-0.404l-3.641-7.688l5.664-2.426v8.899l13.146,6.471l-1.82-10.112h5.258V29.5h3.236l2.023-6.472l4.448,2.831l-4.448,5.666l4.448,1.618l6.473-4.044l9.303,10.112l-2.021,1.619l-2.832,11.731l10.72-5.664l4.247,6.472l-8.494,7.06l2.427,2.243l7.686-6.912l6.877,9.339L496.542,73.188z",
      slug: "#north-beach"
    },
    oceanview: {
      name: "Oceanview",
      nameX: 199,
      nameY: 527,
      path: "M190.74,561.014v-30.337l-15.775-30.338v-4.449l12.136-3.641l1.213,10.111l78.068-1.618l2.427-16.989l24.27,14.562l-10.517,13.348l-38.022,49.351H190.74L190.74,561.014z",
      slug: "#oceanview"
    },
    pacificHeights: {
      name: "Pacific Heights",
      nameX: 302,
      nameY: 108,
      path: "M299.956,135.078l-2.022,4.044h-5.663l-5.26-21.033l5.26-2.023v-6.473l-1.935-13.417l96.806-14.49l5.036,38.022L299.956,135.078z",
      slug: "#pacific-heights"
    },
    parkside: {
      name: "Parkside",
      nameX: 124,
      nameY: 376,
      path: "M197.212,347.438l-6.472,9.707v48.136l-84.774-3.262l-2.191-49.324l67.146-4.45v-7.28h26.291V347.438z",
      slug: "#parkside"
    },
    portola: {
      name: "Portola",
      nameX: 414,
      nameY: 462,
      path: "M460.543,419.843l21.438,58.248l-44.494,14.966v-3.236l-36.001,8.495l-5.258-11.326v-12.135l-7.281-20.63h-30.338l12.539-19.416h51.371L460.543,419.843z",
      slug: "#portola"
    },
    presidio: {
      name: "Presidio",
      nameX: 192,
      nameY: 86,
      path: "M237.258,129.412l-44.09,11.73l-57.419,1.043l-0.02-10.347l-9.304-8.495l15.371-42.876l11.933-14.966v-9.708l3.843-23.866l4.045-16.585h5.663l5.258,9.304l20.226,2.427l25.079,20.629l29.528-4.45l41.663-10.112h8.898l-8.898,5.258l3.236,24.674l-6.472,1.618l6.472,44.899L237.258,129.412z",
      slug: "#presidio"
    },
    presidioHeights: {
      name: "Presidio\nHeights",
      nameX: 243,
      nameY: 144,
      path: "M287.011,150.448l1.214,16.988l-35.191,6.067l-11.325,0.809l-4.45-44.899l55.012-19.82v6.473l-5.26,2.023l5.26,21.034L287.011,150.448z",
      slug: "#presidio-heights"
    },
    potreroHill: {
      name: "Potrero Hill",
      nameX: 486,
      nameY: 289,
      path: "M466.608,253.594l79.687-4.044l-4.449,16.988h6.877v4.855l3.641,2.427v-12.135l4.854,2.023v6.472h4.045v-10.518l5.662,2.023l2.832,21.034h2.426v-16.583h2.832v20.224h-7.686l-0.809,24.675h-13.35l0.811,3.64h5.258v6.876l11.73,1.619l1.213,3.235h15.373v6.067l-110.429,2.833l-2.831-30.743l-13.35-15.37v-9.304l5.663-8.898V253.594L466.608,253.594z",
      slug: "#potrero-hill"
    },
    richmond: {
      name: "Richmond",
      nameX: 136,
      nameY: 185,
      path: "M18.828,214.762l-3.641-0.404v-16.18l6.067,8.09l5.259-0.809l0.809-23.461l69.17-8.09l0.81-10.519l28.72-2.023l0.404-19.01l66.742-1.214l44.09-11.73l4.45,44.899l11.325-0.81l35.191-6.067l-0.404,9.304l4.45,25.888l-77.664,14.158L19.638,228.515L18.828,214.762z",
      slug: "#richmond"
    },
    russianHill: {
      name: "Russian\nHill",
      nameX: 389,
      nameY: 71,
      path: "M392.182,16.963l9.708,5.664l2.427,11.731l49.743,46.032l-65.924,9.384l-0.99-8.089l-7.818-42.472h7.818v-3.641l8.271-8.898l-5.258-6.472L392.182,16.963z",
      slug: "#russian-hill"
    },
    seacliff: {
      name: "Seacliff",
      nameX: 42,
      nameY: 158,
      path: "M126.426,123.344l9.304,8.495l0.02,10.347l-9.323,0.17l-0.404,19.012l-28.72,2.021l-0.81,10.518l-69.17,8.09l-0.809,23.46l-5.259,0.81l-6.067-8.09l-4.854-19.213l7.685-18.405l24.676-22.652L70.2,135.8l10.112,6.388h6.067l4.45-4.281h11.325l6.472-8.494L126.426,123.344z",
      slug: "#seacliff"
    },
    soma: {
      name: "South of Market",
      nameX: 445,
      nameY: 178,
      path: "M522.43,107.166l14.965,15.775l7.281-4.45l3.236,2.427l-7.281,5.258l7.281,0.404l0.404,2.832h-7.281l0.406,2.022l8.088,0.404v2.831l-8.898,0.81l-1.213,3.236h12.945v9.708l-14.158,0.404l0.404,3.641h8.898v4.45l-9.303-0.404l0.404,3.641l12.135,1.213v4.044l-12.135-0.809v2.831l10.113,0.404v3.843h-9.709l-0.404,16.382l-10.518,4.047l-29.528,30.337l3.64,4.043l27.912-30.336l19.82,2.023l2.021,4.044l-10.111,2.023l0.809,4.61l21.033-2.587v14.966l-11.324-7.685h-9.709l1.617,10.112l12.135,8.09v4.045l-6.877-1.618l-3.234,15.37l-79.687,4.044l-5.663-11.324l-9.708-4.574l-32.765-3.921l-30.337-7.283l129.44-136.719h4.043L522.43,107.166z",
      slug: "#south-of-market"
    },
    sunset: {
      name: "Sunset",
      nameX: 95,
      nameY: 311,
      path: "M81.122,425.508l-18.203-6.473H37.436L21.66,266.537l138.726-7.592l1.838,22.156l58.45-3.641v43.281h-10.921v20.225h-38.832v7.281l-67.146,4.449l3.236,72.811H81.122L81.122,425.508z",
      slug: "#sunset"
    },
    sunnyside: {
      name: "Sunnyside",
      nameX: 250,
      nameY: 428,
      path: "M268.809,483.753v-34.786h-3.235l-1.618-8.898L232,448.967l-17.394-18.202l8.898-8.898l-0.81-6.068l11.327-2.83l-4.247-10.948l6.674-15.345h9.708l22.652-20.63h4.045l9.304,12.135l19.011,10.338l8.898,8.269v12.541l-4.854,3.234l-1.214,5.26l9.708-1.214l3.236,3.235h4.45l5.258-2.427l29.28,10.025l-34.942,26.783l-27.91,44.091L268.809,483.753z",
      slug: "#sunnyside"
    },
    twinPeaks: {
      name: "Twin\nPeaks",
      nameX: 269,
      nameY: 326,
      path: "M293.078,283.526v-6.47h4.854v13.349h6.877l4.854,5.662v5.663l11.731,5.258l-13.349,25.483l-2.831,14.967l-6.067,4.448l-6.876,1.618v4.449l-19.417,8.091h-4.045l-11.326-10.518h-14.967l-0.403-8.089l-12.019-14.967l11.209-1.619l5.258,4.451l8.091-2.833v-11.729l3.236-2.428v-4.854l6.067-5.664l-2.023-7.685l10.922-7.685l16.584-2.832L293.078,283.526z",
      slug: "#twin-peaks"
    },
    upperMarket: {
      name: "Upper\nMarket",
      nameX: 330,
      nameY: 256,
      path: "M376.81,237.696l2.514,34.095l-86.245,5.265l10.112-10.519v-7.592l8.495-5.352l6.472-9.304h4.854l2.428-6.594H376.81z",
      slug: "#upper-market"
    },
    visitacionValley: {
      name: "Visitacion Valley",
      nameX: 395,
      nameY: 527,
      path: "M401.485,561.014l-39.641-20.227l20.629-40.854l7.281,2.021l47.731-12.135v3.236l44.494-14.966l9.708,22.248v13.753l12.944,24.27l4.449,22.652H401.485L401.485,561.014z",
      slug: "#visitacion-valley"
    },
    westernAddition: {
      name: "Western Addition",
      nameX: 300,
      nameY: 170,
      path: "M315.325,214.903l-54.538,9.891l-2.687-15.939l34.17-6.229l-4.45-25.888l0.404-9.304l-1.214-16.988l5.26-11.326h5.663l2.022-4.044l92.226-15.372l3.235,14.562l10.113,57.842l-28.721,4.45v8.495l-45.303,6.876v6.068l-14.967,1.213L315.325,214.903z",
      slug: "#western-addition"
    }
  }

  var paper = Raphael("sf-map-container", 680, 580);
  var shapeAttr = {
    "fill": "#7A1E48",
    "stroke": "#111625",
    "stroke-width": "0.6",
    "stroke-linejoin": "round"
  };

  var nameAttr = {
      "fill": "#fff",
      "font-family": "Helvetica",
      "font-size": 11,
      "font-weight": "bold",
      "text-anchor": "start"
  };

  for (var neighborhood in sanFranciscoNeighborhoods) {
    drawNeighborhood(
      sanFranciscoNeighborhoods[neighborhood].path,
      sanFranciscoNeighborhoods[neighborhood].nameX,
      sanFranciscoNeighborhoods[neighborhood].nameY,
      sanFranciscoNeighborhoods[neighborhood].name,
      sanFranciscoNeighborhoods[neighborhood].slug);
  }

  function drawNeighborhood(_path, _nameX, _nameY, _name, _slug) {
    var path = paper.path(_path).attr(shapeAttr),
      name = paper.text(_nameX, _nameY, _name).attr(nameAttr),
      url = _slug,
      set = paper.set();

    set.push(path, name);
    set.attr({ "href": url });

    set.mouseover(function (event) {
      this.attr({ "cursor": "pointer" });
      path.animate({ fill: "#341931" }, 400);
    });
    set.mouseout(function (event) {
      path.animate({ fill: "#7A1E48" }, 400);
    });
  }
};
